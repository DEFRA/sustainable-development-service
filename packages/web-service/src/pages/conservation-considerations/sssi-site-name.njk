{% extends "standard-form.njk" %}
{% from "select/macro.njk" import govukSelect %}

{% set errorMap = {
        'id': {
          'string.empty': { ref: '#sssi-site-name', text: 'Choose a site' }
        }
    }
%}

{% set title = "What is the name of the SSSI?" %}

{% block pageContent %}
    {% set items = [{ value: '', text: '' }] %}
    <div hidden>
    {% for rec in data.sites %}
          {{ items.push({ value: rec.id, text: rec.siteName }) }}
    {% endfor %}
    </div>

    {{ govukSelect({
      id: "sssi-site-name",
      name: "id",
      label: {
        text: "Choose the site"
      },
      errorMessage: { text: "Enter the site." } if error['id'],
      defaultValue: data.selected if data.selected,
      items: items
    }) }}
{% endblock %}
