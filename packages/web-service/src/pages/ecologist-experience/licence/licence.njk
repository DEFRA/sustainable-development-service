{% extends "standard-form.njk" %}

{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}

{% set errorMap = {
        'licence': {
          'any.required': { ref: '#licence', text: 'You have not selected an option' }
        }
    }
%}

{}

{% set title = "Previous badger mitigation licences" %}

{% block pageContent %}
{% set legendText = "Do you want to add another previous badger mitigation licence?" %}
{% if not data %}

{{ govukSummaryList({
  rows: [
    {
      key: {
        text: "Badger mitigiation licence"
      },
      value: {
        text: "No licence added"
      },
      actions: {
      }
    }
  ]
}) }}
{% endif %}

{% for licence in data %}

{{ govukSummaryList({
  rows: [
    {
      key: {
        text: "Badger mitigiation licence"
      },
      value: {
        text: licence
      },
      actions: {
        items: [
          {
            href: "/remove-licence?licence=" + licence,
            text: "Remove"
          }
        ]
      }
    }
  ]
}) }}

{% endfor %}

{{ govukRadios({
  idPrefix: "licence",
  name: "licence",
  fieldset: {
    legend: {
      text: "Do you want to add another previous badger mitigation licence?" if data else "Do you want to add a previous badger mitigation licence?",
      isPageHeading: false,
      classes: "govuk-fieldset__legend--m"
    }
  },
  items: [
    {
      value: "yes",
      text: "Yes"
    },
    {
      value: "no",
      text: "No"
    }
  ]
}) }}

{% endblock %}
