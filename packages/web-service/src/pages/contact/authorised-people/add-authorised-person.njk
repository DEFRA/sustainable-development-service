{% extends "yes-no.njk" %}
{% from "answer-summary.njk" import answerSummary %}

{% if data.contacts.length === 0 %}
    {% set title = 'Do you want to add an authorised person?' %}
{% else %}
    {% set title = 'Check your answers' %}
{% endif %}

{% set noneSelected = 'Choose yes if you want to add an authorised person' %}
{% set radioHint = 'This is a person authorised to carry out the licensed activities.' %}


{% block pageContent %}
{% if data.contacts.length !== 0 %}
    {% for contact in data.contacts %}
        <h2 class="govuk-heading-m">Authorised person</h2>
        <p class="govuk-body" />
            <a class="govuk-link govuk-link--no-visited-state" href="{{ contact.uri.remove }}">Remove</a>
        </p>
        {% set questionMap = {
            name: { question: 'Name', href: contact.uri.name },
            email: { question: 'Email address', href: contact.uri.email },
            address: { question: 'Contact address', href: contact.uri.address }
        } %}
        {{ answerSummary(questionMap, contact.details) }}
    {% endfor %}
    <h2 class="govuk-heading-m">Do you want to add another authorised person?</h2>
{% endif %}

{{ super() }}
{% endblock %}
