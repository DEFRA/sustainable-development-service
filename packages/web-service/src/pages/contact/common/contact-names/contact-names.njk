{% extends "standard-form.njk" %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}

<div hidden>
    {% set items = [] %}
    {% for contact in data.contacts %}
        {{ items.push({ value: contact.id, text: contact.fullName, checked: contact.id === data.contact.id }) }}
    {% endfor %}
    {{ items.push({ divider: "or" }) }}
    {{ items.push({ value: 'new', text: addText }) }}
</div>

{% set errorMap = {
        'contact': {
            'any.required': { ref: '#contact', text: "Choose who the licence is for or 'someone else'" }
        }
    }
%}

{% block pageContent %}
    {{ govukRadios({
      idPrefix: "contact",
      name: "contact",
      items: items,
      errorMessage: { text: 'Choose one' } if error['contact']
    }) }}
{% endblock %}
