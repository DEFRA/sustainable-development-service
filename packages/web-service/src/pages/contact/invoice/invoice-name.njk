{% extends "standard-form.njk" %}
{% from "govuk/components/inset-text/macro.njk" import govukInsetText %}
{% from "input/macro.njk" import govukInput %}

{% set title = 'Invoice payer details' %}
{% set hintText = 'Enter the full name of an individual. Do not enter the name of an organisation or department.' %}

{% set errorMap = {
        'name': {
            'string.empty': { ref: '#name', text: 'You have not entered a name' },
            'string.pattern.base': { ref: '#name', text: 'Enter the name of the payer using only letters, spaces, the apostrophe, hyphen, full-stop or comma.' },
            'any.invalid': { ref: '#name', text: 'The name \'' +  payload.name + '\' has already been used, enter a unique name'  }
        }
    }
%}

{% block pageContent %}

    {{ govukInsetText({
        text: "You will have to pay a Â£101 administration charge if you want to change these details after the application is submitted."
    }) }}
    {{ govukInput({
      label: {
        text: 'Who should we send the invoice to?',
        classes: "govuk-label--m",
            isPageHeading: false
      },
      id: "name",
      name: "name",
      spellcheck: false,
      hint: { text: hintText } if hintText else '',
      value: data.fullName if data.fullName else payload['name'],
      classes: "govuk-grid-column-full",
      attributes: { maxlength: 160 },
      errorMessage: { text: 'Enter the full name' } if error['name']
    }) }}
{% endblock %}
