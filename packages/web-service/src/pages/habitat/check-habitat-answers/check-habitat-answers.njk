{% extends "standard-form.njk" %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}

{% from "error-summary.njk" import errorSummary %}

{% set title = 'Check your answers' %} 

{% set errorMap = {
        'additional-sett': {
          'no-choice-made': { ref: '#additional-sett', text: 'You have not made a choice' }
        }
    }
%}

{% block beforeContent %}
  {{ govukPhaseBanner({
      tag: {
        text: "alpha"
      },
      html: 'This is a new service â€“ your <a class="govuk-link" href="#">feedback</a> will help us to improve it.'
    }) }}
 {% endblock %}

{% block pageTitle %}{{ 'Error: ' + title if error else title }}{% endblock %}

{% block pageContent %}
{% for habitat in data.pageData %}

  <h1 class="govuk-heading-m">Sett {{habitat.name}}</h1>
    
  <div class="govuk-body">
    <a class="govuk-link govuk-link--no-visited-state" href={{data.confirmDelete + "?id=" + habitat.id}}>
      Remove sett
    </a>
  </div>

    {{ govukSummaryList({
    rows: [
    {
      key: {text: "Sett type"},
      value: {text: habitat.habitatType},
      actions: {
          items: [
            {
              href: "/habitat-types?id=" + habitat.id,
              text: "Change"
            }
          ]
        }
    },
    {
      key: {text: "Reopening sett"},
      value: {text: habitat.reopen},
      actions: {
          items: [
            {
              href: "/habitat-reopen?id=" + habitat.id,
              text: "Change"
            }
          ]
        }
    },
    {
      key: {text: "Number of entrance holes"},
      value: {text: habitat.numberOfEntrances},
      actions: {
          items: [
            {
              href: "/habitat-entrances?id=" + habitat.id,
              text: "Change"
            }
          ]
        }
    },
    {
      key: {text: "Number of active entrance holes"},
      value: {text: habitat.numberOfActiveEntrances},
      actions: {
          items: [
            {
              href: "/habitat-active-entrances?id=" + habitat.id,
              text: "Change"
            }
          ]
        }
    },
    {
      key: {text: "Sett grid reference"},
      value: {text: habitat.gridReference},
      actions: {
          items: [
            {
              href: "/habitat-grid-ref?id=" + habitat.id,
              text: "Change"
            }
          ]
        }
    },
    {
      key: {text: "Work start date"},
      value: {text: habitat.workStart},
      actions: {
          items: [
            {
              href: "/habitat-work-start?id=" + habitat.id,
              text: "Change"
            }
          ]
        }
    },
    {
      key: {text: "Work end date"},
      value: {text: habitat.workEnd},
      actions: {
          items: [
            {
              href: "/habitat-work-end?id=" + habitat.id,
              text: "Change"
            }
          ]
        }
    },
    {
      key: {text: "Affect on badgers"},
      value: {text: habitat.methodTypes},
      actions: {
          items: [
            {
              href: "/habitat-activities?id=" + habitat.id,
              text: "Change"
            }
          ]
        }
    }
    ]
    })}}
    {% endfor %}

    {% from "govuk/components/radios/macro.njk" import govukRadios %}

{{ govukRadios({
  idPrefix: "additional-sett",
  name: "additional-sett",
  fieldset: {
    legend: {
      text: "Do you want to add another badger sett?",
      isPageHeading: true,
      classes: "govuk-fieldset__legend--l"
    }
  },
  items: [
    {
      value: "yes",
      text: "Yes"
    },
    {
      value: "no",
      text: "No"
    }
  ]
}) }}

{% endblock %}
