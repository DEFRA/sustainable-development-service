{% extends "standard-form.njk" %}

{% from "govuk/components/date-input/macro.njk" import govukDateInput %}

{% set errorMap = {
        'habitat-work-end': {
          'no-date-sent': { ref: '#habitat-work-end', text: 'You have not entered a end date' },
          'invalidDate': { ref: '#habitat-work-end', text: 'You have not sent a valid date' },
          'dateHasPassed': { ref: '#habitat-work-end', text: 'You have chosen a date in the past' },
          'outsideLicence': { ref: '#habitat-work-end', text: 'You have chosen a date outside the licence period' },
          'todaysDate': { ref: '#habitat-work-start', text: 'You may not select today as a date' }
        }
    }
%}

{% set title = "When will the work end?" %}

{% block pageContent %}

  {{ govukDateInput({
    id: "habitat-work-end",
    namePrefix: "habitat-work-end",
    name: "habitat-work-end",
    errorMessage: { text: "Enter an end date for the licenced work on this sett." } if error['habitat-work-end'],
    hint: {
      text: "The work must be finished before the end of licence period (30 November)."
    }
  }) }}

{% endblock %}
